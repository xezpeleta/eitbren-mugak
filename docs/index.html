<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EITBHub</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <div class="container">
            <h1><a href="index.html">EITBHub</a></h1>
            <p class="subtitle">EITBko edukia guztia leku bakar batetik</p>
        </div>
    </header>

    <main class="container">
        <section class="filters-section">
            <!-- Filters Header / Toggle for Mobile -->
            <!-- Filters Header / Toggle for Mobile -->
            <div class="filters-header">
                <div class="mobile-results-info">
                    <span id="mobile-results-count">0</span> edukia
                </div>
                <div class="mobile-actions">
                    <a href="stats.html" class="icon-btn" aria-label="Estatistikak">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="20" x2="18" y2="10"></line>
                            <line x1="12" y1="20" x2="12" y2="4"></line>
                            <line x1="6" y1="20" x2="6" y2="14"></line>
                        </svg>
                    </a>
                    <button id="filters-toggle" class="icon-btn" aria-expanded="false" aria-controls="filters-container"
                        aria-label="Filtroak ireki">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </button>
                </div>
            </div>

            <div id="filters-container" class="filters-container">
                <!-- Mobile Filter Header (Hidden on Desktop) -->
                <div class="filter-modal-header">
                    <h3>Filtroak</h3>
                    <button id="filter-modal-close" class="filter-modal-close">×</button>
                </div>

                <div class="filter-group">
                    <label for="search-input">Bilatu:</label>
                    <input type="text" id="search-input" placeholder="Bilatu izenburuan...">
                </div>
                <div class="filter-group">
                    <label for="type-filter">Mota:</label>
                    <select id="type-filter">
                        <option value="">Guztia</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="restriction-filter">Geo-Murrizketa:</label>
                    <select id="restriction-filter">
                        <option value="">Guztia</option>
                        <option value="true">Murriztua</option>
                        <option value="false">Murriztu gabea</option>
                        <option value="null">Ezezaguna</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="age-rating-filter">Adina:</label>
                    <select id="age-rating-filter">
                        <option value="">Guztia</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="language-filter">Hizkuntza:</label>
                    <select id="language-filter">
                        <option value="">Guztiak</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="platform-filter">Plataforma:</label>
                    <select id="platform-filter">
                        <option value="">Guztia</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="media-type-filter">Media mota:</label>
                    <select id="media-type-filter">
                        <option value="">Guztia</option>
                    </select>
                </div>

                <!-- Mobile Filter Actions (Hidden on Desktop) -->
                <div class="filter-modal-actions">
                    <button id="filter-apply-btn" class="filter-apply-btn">Emaitzak ikusi</button>
                </div>
                <div class="filter-group">
                    <button id="clear-filters">Ezabatu filtroak</button>
                </div>
            </div>
        </section>

        <section class="table-section">
            <div class="table-info">
                Aurkitutako <span id="results-count">0</span>
            </div>
            <div class="table-wrapper">
                <table id="content-table">
                    <thead>
                        <tr>
                            <!-- 
                                COLUMN STRUCTURE (IMPORTANT: Keep in sync with renderContentRow() in content.js):
                                1. Empty (expand button for series rows)
                                2. Irudia (Image/Thumbnail)
                                3. Izenburua (Title)
                                4. Mota (Type)
                                5. Adina (Age Rating)
                                6. Hizkuntza(k) (Languages)
                                7. Iraupena (Duration)
                                8. Urtea (Year)
                                9. Geo-Murrizketa (Geo-Restriction)
                                10. Plataforma (Platform) - LAST COLUMN
                                
                                WARNING: If you add/remove/reorder columns, update:
                                - This HTML header
                                - renderContentRow() in content.js (td elements order)
                                - renderSeriesRow() in content.js (td elements order)
                                - Any CSS nth-child() selectors in style.css
                            -->
                            <th style="width: 40px;"></th>
                            <th style="width: 80px;">Irudia</th>
                            <th data-sort="title">Izenburua <span class="sort-indicator"></span></th>
                            <th data-sort="type">Mota <span class="sort-indicator"></span></th>
                            <th>Adina</th>
                            <th>Hizkuntza(k)</th>
                            <th data-sort="duration">Iraupena <span class="sort-indicator"></span></th>
                            <th data-sort="year">Urtea <span class="sort-indicator"></span></th>
                            <th data-sort="is_geo_restricted">Geo-Murrizketa <span class="sort-indicator"></span></th>
                            <th data-sort="platform">Plataforma <span class="sort-indicator"></span></th>
                        </tr>
                    </thead>
                    <tbody id="content-tbody">
                        <tr>
                            <td colspan="10" class="loading">Loading content...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" id="pagination">
                <div class="pagination-left">
                    <label for="page-size">Elementu orrialdeko:</label>
                    <select id="page-size">
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100" selected>100</option>
                        <option value="200">200</option>
                    </select>
                </div>
                <div class="pagination-right">
                    <button id="first-page">« Lehenengoa</button>
                    <button id="prev-page">‹ Aurrekoa</button>
                    <span id="page-info">1 / 1 orrialdea</span>
                    <button id="next-page">Hurrengoa ›</button>
                    <button id="last-page">Azkena »</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 EITBHub |
                <a href="https://github.com/xezpeleta/eitbhub">Source Code</a> |
                <a href="stats.html">Show stats</a>
            </p>
        </div>
    </footer>

    <!-- Mobile Full Screen Detail Modal -->
    <div id="mobile-detail-modal" class="mobile-detail-modal" aria-hidden="true">
        <button id="mobile-nav-prev" class="mobile-nav-btn mobile-nav-prev" aria-label="Previous Item">‹</button>
        <button id="mobile-nav-next" class="mobile-nav-btn mobile-nav-next" aria-label="Next Item">›</button>
        <div class="mobile-detail-content">
            <button id="mobile-detail-close" class="mobile-detail-close" aria-label="Close details">×</button>
            <div class="mobile-detail-image-container">
                <img id="mobile-detail-poster" src="" alt="" class="mobile-detail-poster">
                <div class="mobile-detail-gradient"></div>
            </div>
            <div class="mobile-detail-info">
                <h2 id="mobile-detail-title"></h2>
                <div id="mobile-detail-meta" class="mobile-detail-meta"></div>
                <div id="mobile-detail-badges" class="mobile-detail-badges"></div>
                <p id="mobile-detail-description"></p>
                <div id="mobile-detail-actions">
                    <a id="mobile-detail-link" href="#" target="_blank" class="mobile-content-link">
                        Ireki edukia platforman <span class="external-link-icon">↗</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script src="js/content.js"></script>
</body>

</html>